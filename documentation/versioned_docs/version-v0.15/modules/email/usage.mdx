# Usage

## Setting up

### Configuring the provider

In order to start using  Email you need to execute  and configure it firstly!

:::caution
See how to [execute](./get-started#execution) the email module.<br/>
See how to [configure](./configuration) it.
:::

After configuring , you need to have the appropriate imports.

```jsx title="Imports"
import ConduitGrpcSdk from '@conduitplatform/grpc-sdk';
```


## Sending an Email


```jsx title="Send an email"
await this.grpcSdk.sendEmail('template_name',{
    email : 'mail@example.com',
    sender: 'sendermail@example.com',
    variables: {
        'variable1' : 'variable_value',
    }
})
.catch(e => {
    ConduitGrpcSdk.Logger.error(e);
})
```

## Templates
Conduit provides a template mechanism. Templates can be created with or without variables.<br/>
To create a template with variables, do it by using [handlebars](https://handlebarsjs.com/guide/).

### Template registration

```jsx title="Template registration"
await this.grpcSdk.registerTemplate({
    name: 'template_name',
    subject: 'subject',
    body: '<p> Hello, {{user}}. I hope you are doing well.',
    variables: ['user']
})
.catch(e => {
    ConduitGrpcSdk.Logger.error(e);
})
```