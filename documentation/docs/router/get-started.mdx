# Getting Started

This section is currently Under Development.<br />
We'll do our best to improve on it as soon as possible.<br />

-------------------------------------------------

Lets go through a couple examples, shall we?<br />
We'll be using curl for this in order to make sure everyone can follow along, but you can send your requests in any way you like.

We'll start by sending an administrator login request.<br />
Make sure you pass the `masterkey` header along with your administrator credentials and send your data as raw JSON.<br />
The default value is 'M4ST3RK3Y', but you change that by setting the `masterkey` env var before starting Conduit.

``` bash title="POST on /admin/login"
curl --location --request POST 'http://localhost:3000/admin/login' \
     --header 'masterkey: M4ST3RK3Y' \
     --header 'Content-Type: application/json' \
     --data-raw '{
        "username": "admin",
        "password": "admin"
     }'
```
```json title="Response"
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyMmYxZGQ5NThkZDIwMDAxNzgwNWVmYyIsImlhdCI6MTY0NzM0MjMwMiwiZXhwIjoxNjQ3NDE0MzAyfQ.trHYfxt9Wf6ohgi5PWez-dZEDaQSBBR6wu2PINveQmI"
}
```

Great, that got us, uh, a quite long string of non-sense characters?<br />
Is that thing broken or what? Oh yeah, that's right, a token thing, I've watched people talk about these on YouTube.<br />
Does that mean I've got my very own NFT now?

Nah, but on the bright side, it should let you access your very own set of admin routes!<br />
Let's put that token to use and send an authenticated admin request to the Database module.<br />
We pass it along as the Authentication header, prefixed by 'JWT '.
That one should return all of the schemas owned by Database or Authentication.

``` bash title="GET on /admin/database/schemas"
curl --location --request GET 'http://localhost:3000/admin/database/schemas/?enabled=true&owner=database,authentication' \
     --header 'Authorization: JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyMmYxZGQ5NThkZDIwMDAxNzgwNWVmYyIsImlhdCI6MTY0NzM0MjMwMiwiZXhwIjoxNjQ3NDE0MzAyfQ.trHYfxt9Wf6ohgi5PWez-dZEDaQSBBR6wu2PINveQmI' \
     --header 'masterkey: M4ST3RK3Y'
```
```json title="Response"
{
  "schemas": [
    {
      "_id": "622f1dda58dd200017805f0e",
      "name": "AccessToken",
      "fields": {
        "_id": "ObjectId",
        "userId": {
          "type": "Relation",
          "model": "User",
          "required": true
        },
        "clientId": {
          "type": "String",
          "required": true
        },
        "token": {
          "type": "String",
          "required": true
        },
        "expiresOn": {
          "type": "Date",
          "required": true
        },
        "createdAt": "Date",
        "updatedAt": "Date"
      },
      "modelOptions": {
        "timestamps": true,
        "conduit": {
          "permissions": {
            "extendable": true,
            "canCreate": false,
            "canModify": "ExtensionOnly",
            "canDelete": false
          }
        }
      },
      "ownerModule": "authentication",
      "createdAt": "2022-03-14T10:50:02.239Z",
      "updatedAt": "2022-03-15T09:21:50.559Z",
      "extensions": [],
      "__v": 0
    },
    {
      ... more schemas ...
    }
  ],
  "count": 5
}
```

Admin requests usually expose or modify critical parts of your backend like listing private data and configuring your user authentication login policy.<br />
As such, they go through an authentication middleware to prevent non-administrators from being capable of performing them.

For most of your typical non-admin requests performed by your apps, you would send a simple non-admin request instead.<br />
These ones require a different set of headers to be passed along.<br />
A security client id and secret pair to be precise.<br />
You can get these by generating a security client for a platform of your choice.<br />

User routes additionally require that you pass along a user authentication token.<br />
Conduit is not limited to REST API
Lets send one last admin request to create an Android security client.

``` bash title="POST on /admin/security/client"
curl --location --request POST 'http://localhost:3000/admin/security/client/' \
     --header 'Authorization: JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyMmYxZGQ5NThkZDIwMDAxNzgwNWVmYyIsImlhdCI6MTY0NzM0MjMwMiwiZXhwIjoxNjQ3NDE0MzAyfQ.trHYfxt9Wf6ohgi5PWez-dZEDaQSBBR6wu2PINveQmI' \
     --header 'masterkey: M4ST3RK3Y' \
     --header 'Content-Type: application/json' \
     --data-raw '{
         "platform": "ANDROID"
     }'
```
```json title="Response"
{
  "id": "623080eddbacba00172cd4f6",
  "clientId": "a0b51e76e1b32dbe25695866a34892",
  "clientSecret": "31381e7315d22abf668ddee7f624cfac644b0465b3769764921726efed03c4b5c69200ed28b20ef78a849e52ce8e615a2cd95602ae2f5e5b839c4b48be525569",
  "platform": "ANDROID"
}
```

Alright, stick with me now. We're almost there.<br />
Lets send our user request.


### Basic headers {#basic-headers}

**TODO**
