---
label: 'Locals'
sidebar_position: 2
---
#  Local

First of all, you have to create a client , to proceed to an operation.
See here for more: [Create a client](../../core/security)

## Headers
Each request should include these:

| Param      | Required |       Type |
| ----------- | ----------- | ----------- |
| clientid      | True        |   String
| clientsecret   | True       |  String
| masterkey    |  True        | String



## User registration

| route             | method |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/new      | POST       |  false

### Body params
- email(string)
- password(string)

### Returns
```json
{
    "userId": "AUTOGENERATED_USER_ID"
}
```
## Verify email
Since  a user is registered, you need to verify your email. ***Check your email to take the verification token***!

| route             | method |       requires authentication |
| -----------       | -----------   | ----------- |
| /hook/authentication/verify-email/      | GET       |  false


### Url parameters
- verificationToken(string)

### Returns

```tsx
curl --location --request GET '<<CONDUIT_URL>>/hook/authentication/verify-email/' \
--header 'clientid: <API Key>'
```
## Login

| route             | method |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/      | POST       |  false

### Body params
- email(string)
- password(string)

### Returns
```json
{
    "userId": "USER_ID",
    "accessToken": "<<YOUR_ACCESS_TOKEN>>",
    "refreshToken": "<<YOUR_REFRESH_TOKEN"
}
```

## Forgot password

| route             | method |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/forgot-password/      | POST       |  false

### Body params
- email(string)


If **'Ok'** is returned, an email will be sent to you to reset the password.

## Reset password
 An email has been sent to you to reset the password.

| route             | method |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/reset-password/      | POST       |  false

### Body params
- passwordResetToken(string)
- password(string)

## Change password

| route             | method        |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/change-password/      | POST       |  true

### Body params
- oldPassword(string)
- newPassword(string)

### Returns
- If 2FA is enabled then a message will be returned asking for token input.
- Otherwise,

## 2FA - Two Factor Authentication

### Enable 2FA
In order to enable two factor authentication you need to enable it by  [updating the authentication configuration](./config).

| route             | method        |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/enable-twofa/      | PUT       |  true

#### Body params
- phoneNumber(string) : should begin with your international Dialling Code

***Check your mobile phone for the verification code***.

### Verify your phone number
Use the verification code sent to you in order to verify your phone number.

| route             | method        |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/verifyPhoneNumber/      | POST       |  true

#### Body params
- code(string): verification code that has been sent to your phone

### Login with 2FA

If two factor authentication is enabled, you need to login through [login route](#login).

A verification code will be sent to you. Use this code in order to login.

| route             | method        |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/twofa/      | POST       |  true

#### Body params
- email(string)
- code(string): verification code

### Disable 2FA
There is no parameters for this route.

| route             | method        |       requires authentication |
| -----------       | -----------   | ----------- |
| /authentication/local/disable-twofa/      | PUT       |  true